
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sonolus.py.qwewqa.xyz/concepts/types/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../constructs/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Types - Sonolus.py Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Sonolus.py Documentation" class="md-header__button md-logo" aria-label="Sonolus.py Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sonolus.py Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Types
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/qwewqa/sonolus.py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Sonolus.py

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../overview/" class="md-tabs__link">
        
  
  
    
  
  Overview

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Sonolus.py Documentation" class="md-nav__button md-logo" aria-label="Sonolus.py Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Sonolus.py Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/qwewqa/sonolus.py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sonolus.py
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/project-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Structure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/screen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Screen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/skin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Skins &amp; Sprites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/particle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Particles
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/effect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sound Effects
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/bucket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Buckets &amp; Judgement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/play/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Play
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/coming-soon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Coming Soon
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Concepts
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#num" class="md-nav__link">
    <span class="md-ellipsis">
      Num
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Num">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Checks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conversion" class="md-nav__link">
    <span class="md-ellipsis">
      Conversion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-checks_1" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Checks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enums" class="md-nav__link">
    <span class="md-ellipsis">
      Enums
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#record" class="md-nav__link">
    <span class="md-ellipsis">
      Record
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Record">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration_2" class="md-nav__link">
    <span class="md-ellipsis">
      Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiation" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generics" class="md-nav__link">
    <span class="md-ellipsis">
      Generics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations_2" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-checks_2" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Checks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transient-types" class="md-nav__link">
    <span class="md-ellipsis">
      Transient Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transient Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tuple" class="md-nav__link">
    <span class="md-ellipsis">
      tuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dict" class="md-nav__link">
    <span class="md-ellipsis">
      dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#str" class="md-nav__link">
    <span class="md-ellipsis">
      str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-constants" class="md-nav__link">
    <span class="md-ellipsis">
      Special Constants
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-types" class="md-nav__link">
    <span class="md-ellipsis">
      Other types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-instances-of-transient-types-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Storing Instances of Transient Types in Records
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../constructs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constructs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Builtins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resources &amp; Declarations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Command Line
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/builtins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    builtins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/math/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    math
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/random/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    random
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.archetype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.archetype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.array/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.array
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.array_like/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.array_like
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.bucket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.bucket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.containers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.debug
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.easing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.easing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.effect/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.effect
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.engine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.engine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.globals/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.globals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.instruction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.instruction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.interval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.interval
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.iterator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.iterator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.level/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.level
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.maybe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.maybe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.metadata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.num/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.num
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.options/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.options
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.particle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.particle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.printing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.printing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.project
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.quad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.quad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.record/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.record
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.runtime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.runtime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.sprite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.sprite
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.stream/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.stream
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.text/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.text
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.timing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.timing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.transform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.transform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.ui
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.values
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.vec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sonolus.script.vec
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#num" class="md-nav__link">
    <span class="md-ellipsis">
      Num
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Num">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration" class="md-nav__link">
    <span class="md-ellipsis">
      Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-checks" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Checks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conversion" class="md-nav__link">
    <span class="md-ellipsis">
      Conversion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Array">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations_1" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-checks_1" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Checks
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enums" class="md-nav__link">
    <span class="md-ellipsis">
      Enums
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#record" class="md-nav__link">
    <span class="md-ellipsis">
      Record
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Record">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration_2" class="md-nav__link">
    <span class="md-ellipsis">
      Declaration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiation" class="md-nav__link">
    <span class="md-ellipsis">
      Instantiation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generics" class="md-nav__link">
    <span class="md-ellipsis">
      Generics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations_2" class="md-nav__link">
    <span class="md-ellipsis">
      Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-checks_2" class="md-nav__link">
    <span class="md-ellipsis">
      Instance Checks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transient-types" class="md-nav__link">
    <span class="md-ellipsis">
      Transient Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Transient Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tuple" class="md-nav__link">
    <span class="md-ellipsis">
      tuple
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dict" class="md-nav__link">
    <span class="md-ellipsis">
      dict
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#str" class="md-nav__link">
    <span class="md-ellipsis">
      str
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-constants" class="md-nav__link">
    <span class="md-ellipsis">
      Special Constants
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-types" class="md-nav__link">
    <span class="md-ellipsis">
      Other types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-instances-of-transient-types-in-records" class="md-nav__link">
    <span class="md-ellipsis">
      Storing Instances of Transient Types in Records
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="types">Types<a class="headerlink" href="#types" title="Permanent link">&para;</a></h1>
<p>Sonolus.py has 3 core types: <a href="#num"><code class="highlight"><span class="n">Num</span></code></a>, <a href="#array"><code class="highlight"><span class="n">Array</span></code></a>, and <a href="#record"><code class="highlight"><span class="n">Record</span></code></a>. representing numeric values, fixed-size arrays, 
and custom data structures, respectively. Arrays and records can be nested within each other to create complex data
structures.</p>
<p>Additionally, Sonolus.py supports the built-in types <code class="highlight"><span class="nb">tuple</span></code>, <code class="highlight"><span class="nb">dict</span></code>, <code class="highlight"><span class="nb">str</span></code>, classes and functions, and
the constants <code class="highlight"><span class="kc">None</span></code>, <code class="highlight"><span class="bp">Ellipsis</span></code>, and <code class="highlight"><span class="bp">NotImplemented</span></code>.</p>
<h2 id="num">Num<a class="headerlink" href="#num" title="Permanent link">&para;</a></h2>
<p><code class="highlight"><span class="n">Num</span></code> is the numeric and boolean type in Sonolus.py. It is interchangeable with <code class="highlight"><span class="nb">int</span></code>, <code class="highlight"><span class="nb">float</span></code>, and <code class="highlight"><span class="nb">bool</span></code>.
Sonolus.py will treat any of these types as <code class="highlight"><span class="n">Num</span></code>, but it's recommended to use what's appropriate for clarity.</p>
<p>Typically, <code class="highlight"><span class="n">Num</span></code> isn't directly used in code since <code class="highlight"><span class="nb">int</span></code>, <code class="highlight"><span class="nb">float</span></code>, and <code class="highlight"><span class="nb">bool</span></code> are more specific and easier to read.
The main exception is for instance checking (<code class="highlight"><span class="nb">isinstance</span></code> or <code class="highlight"><span class="k">match</span></code> patterns), where <code class="highlight"><span class="n">Num</span></code> is the only supported
way to check for numeric or boolean values.</p>
<p>The Sonolus app uses 32-bit floating-point numbers for all numeric values, so precision may be lower compared to Python
when running within Sonolus.</p>
<p>NaN and values outside the range of 32-bit floating-point numbers are not supported.</p>
<p>You can import <code class="highlight"><span class="n">Num</span></code> from <code class="highlight"><span class="n">sonolus</span><span class="o">.</span><span class="n">script</span><span class="o">.</span><span class="n">num</span></code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sonolus.script.num</span><span class="w"> </span><span class="kn">import</span> <span class="n">Num</span>
</code></pre></div>
<h3 id="declaration">Declaration<a class="headerlink" href="#declaration" title="Permanent link">&para;</a></h3>
<p>Nums can be declared using standard Python syntax.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mf">2.5</span>
<span class="n">c</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div>
<h3 id="operations">Operations<a class="headerlink" href="#operations" title="Permanent link">&para;</a></h3>
<p>Nums support most of the standard Python operations:</p>
<ul>
<li>Comparison operators: <code class="highlight"><span class="o">==</span></code>, <code class="highlight"><span class="o">!=</span></code>, <code class="highlight"><span class="o">&lt;</span></code>, <code class="highlight"><span class="o">&gt;</span></code>, <code class="highlight"><span class="o">&lt;=</span></code>, <code class="highlight"><span class="o">&gt;=</span></code></li>
<li>Arithmetic operators: <code class="highlight"><span class="o">+</span></code>, <code class="highlight"><span class="o">-</span></code>, <code class="highlight"><span class="o">*</span></code>, <code class="highlight"><span class="o">/</span></code>, <code class="highlight"><span class="o">//</span></code>, <code class="highlight"><span class="o">%</span></code>, <code class="highlight"><span class="o">**</span></code></li>
<li>Unary operators: <code class="highlight"><span class="o">+</span></code>, <code class="highlight"><span class="o">-</span></code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Floating point precision may be lower when running on Sonolus compared to Python.
Care should be taken when performing precision-sensitive operations.</p>
</div>
<p>As in regular Python, <code class="highlight"><span class="mi">0</span></code> is considered <code class="highlight"><span class="kc">False</span></code>, while any non-zero value is considered <code class="highlight"><span class="kc">True</span></code>.</p>
<p>Objects with an explicit <code class="highlight"><span class="fm">__bool__</span></code> method may also be used in <code class="highlight"><span class="k">if</span></code>, <code class="highlight"><span class="k">while</span></code>, <code class="highlight"><span class="k">case</span> <span class="o">...</span> <span class="k">if</span></code> expressions as well as with
the <code class="highlight"><span class="ow">not</span></code> operator. However, the operands of the <code class="highlight"><span class="ow">and</span></code> and <code class="highlight"><span class="ow">or</span></code> operators must be of type <code class="highlight"><span class="n">Num</span></code>.</p>
<ul>
<li>Logical operators: <code class="highlight"><span class="ow">and</span></code>, <code class="highlight"><span class="ow">or</span></code>, <code class="highlight"><span class="ow">not</span></code></li>
<li>Ternary expressions: <code class="highlight"><span class="o">...</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="k">else</span> <span class="o">...</span></code></li>
<li>If statements: <code class="highlight"><span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code>, <code class="highlight"><span class="k">elif</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code></li>
<li>While loops: <code class="highlight"><span class="k">while</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code></li>
<li>Case guards: <code class="highlight"><span class="k">case</span> <span class="o">...</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code></li>
</ul>
<h3 id="instance-checks">Instance Checks<a class="headerlink" href="#instance-checks" title="Permanent link">&para;</a></h3>
<p>Since <code class="highlight"><span class="n">Num</span></code> is interchangeable with <code class="highlight"><span class="nb">int</span></code>, <code class="highlight"><span class="nb">float</span></code>, and <code class="highlight"><span class="nb">bool</span></code>, only <code class="highlight"><span class="n">Num</span></code> is supported for type checks.</p>
<div class="highlight"><pre><span></span><code><span class="n">x</span> <span class="o">=</span> <span class="o">...</span>

<span class="c1"># Ok:</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Num</span><span class="p">)</span>

<span class="k">match</span> <span class="n">x</span><span class="p">:</span>
    <span class="k">case</span> <span class="n">Num</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="o">...</span>

<span class="c1"># Not ok:</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
<span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">bool</span><span class="p">)</span>

<span class="k">match</span> <span class="n">x</span><span class="p">:</span>
    <span class="k">case</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">case</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">case</span> <span class="nb">bool</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
        <span class="o">...</span>
</code></pre></div>
<h3 id="conversion">Conversion<a class="headerlink" href="#conversion" title="Permanent link">&para;</a></h3>
<p>Calling <code class="highlight"><span class="nb">int</span></code>, <code class="highlight"><span class="nb">float</span></code>, or <code class="highlight"><span class="nb">bool</span></code> is only supported for an argument of type <code class="highlight"><span class="n">Num</span></code>.</p>
<p>Details:</p>
<ul>
<li><code class="highlight"><span class="nb">int</span></code>: Equivalent to <code class="highlight"><span class="n">math</span><span class="o">.</span><span class="n">trunc</span></code>.</li>
<li><code class="highlight"><span class="nb">float</span></code>: Validates that the value is a <code class="highlight"><span class="n">Num</span></code> and returns it as is.</li>
<li><code class="highlight"><span class="nb">bool</span></code>: Validates that the value is a <code class="highlight"><span class="n">Num</span></code> and returns <code class="highlight"><span class="mi">1</span></code> for <code class="highlight"><span class="kc">True</span></code> and <code class="highlight"><span class="mi">0</span></code> for <code class="highlight"><span class="kc">False</span></code>.</li>
</ul>
<h2 id="array">Array<a class="headerlink" href="#array" title="Permanent link">&para;</a></h2>
<p><a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">Size</span><span class="p">]</span></code></a> stores a fixed number of elements of the same type.</p>
<p>It has two type parameters:</p>
<ul>
<li><code class="highlight"><span class="n">T</span></code>: The type of the elements.</li>
<li><code class="highlight"><span class="n">Size</span></code>: The number of elements.</li>
</ul>
<p>You can import <a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span></code></a> from <code class="highlight"><span class="n">sonolus</span><span class="o">.</span><span class="n">script</span><span class="o">.</span><span class="n">array</span></code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sonolus.script.array</span><span class="w"> </span><span class="kn">import</span> <span class="n">Array</span>
</code></pre></div>
<h3 id="declaration_1">Declaration<a class="headerlink" href="#declaration_1" title="Permanent link">&para;</a></h3>
<p>Arrays can be created using its constructor or the unary <code class="highlight"><span class="o">+</span></code> operator.</p>
<div class="highlight"><pre><span></span><code><span class="n">a1</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">3</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">0</span><span class="p">]()</span>
<span class="n">a3</span> <span class="o">=</span> <span class="o">+</span><span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>  <span class="c1"># Create a zero-initialized array</span>
</code></pre></div>
<p>For type checker compatibility, the Python builtin <code class="highlight"><span class="n">typing</span><span class="o">.</span><span class="n">Literal</span></code> or <a class="autorefs autorefs-internal" title="            Dim = Literal

  
      module-attribute
  " href="../../reference/sonolus.script.array/#sonolus.script.array.Dim"><code class="highlight"><span class="n">Dim</span></code></a> may be used
for an array's size:
<div class="highlight"><pre><span></span><code><span class="n">a1</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Dim</span><span class="p">[</span><span class="mi">3</span><span class="p">]](</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">a2</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Literal</span><span class="p">[</span><span class="mi">3</span><span class="p">]](</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div></p>
<p>If at least one element is provided, the element type and size can be inferred:</p>
<div class="highlight"><pre><span></span><code><span class="n">a3</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<p>Since <a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span></code></a> takes type parameters, it is considered a generic type. A version of <a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span></code></a> with type parameters provided
is considered a concrete type.</p>
<div class="highlight"><pre><span></span><code><span class="n">Array</span>  <span class="c1"># The Generic Array type</span>
<span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>  <span class="c1"># A concrete Array type</span>
</code></pre></div>
<p>The element type of an array must be concrete (not generic) and the size must be a non-negative compile-time 
constant integer:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ok</span>
<span class="n">a4</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">](</span><span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Not ok:</span>
<span class="n">a5</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]()</span>  <span class="c1"># The size must be a non-negative integer</span>
<span class="n">a6</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="n">Array</span><span class="p">,</span> <span class="mi">2</span><span class="p">](</span><span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>  <span class="c1"># The element type must be concrete (not generic)</span>
</code></pre></div>
<p>Copies are made of any values provided to the constructor:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">Pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="n">Pair</span><span class="p">,</span> <span class="mi">1</span><span class="p">](</span><span class="n">pair</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">pair</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># The value in the array is independent of the original value</span>
</code></pre></div>
<h3 id="operations_1">Operations<a class="headerlink" href="#operations_1" title="Permanent link">&para;</a></h3>
<p>An array can be copied with the unary <code class="highlight"><span class="o">+</span></code> operator, which creates a new array with the same elements:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="o">+</span><span class="n">a</span>
<span class="k">assert</span> <span class="n">b</span> <span class="o">==</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<p>The value of an array can be copied from another array using the copy from operator (<code class="highlight"><span class="o">@=</span></code>)<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>:</p>
<div class="highlight"><pre><span></span><code><span class="n">source_array</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">destination_array</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">destination_array</span> <span class="o">@=</span> <span class="n">source_array</span>
<span class="k">assert</span> <span class="n">destination_array</span> <span class="o">==</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<p>Arrays can be compared for equality and inequality:</p>
<div class="highlight"><pre><span></span><code><span class="k">assert</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">==</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">!=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</code></pre></div>
<p>Elements can be accessed by index:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>
</code></pre></div>
<p>Elements can be updated by index, copying the given value into the corresponding element of the array:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="k">assert</span> <span class="n">a</span> <span class="o">==</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a value in an array is not a <a href="#num"><code class="highlight"><span class="n">Num</span></code></a>, updating it will copy the given value into the corresponding element
of the array. However, that element remains independent of the original value, which may lead to unexpected
results when updating either value.</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">Pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="n">Pair</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">pair</span>  <span class="c1"># or equivalently: a[0] @= pair</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">pair</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">assert</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">Pair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># The value in the array is independent of the original value</span>
</code></pre></div>
<p>For clarity, it's recommended to use the copy from operator (<code class="highlight"><span class="o">@=</span></code>) when updating elements that are known to be
an array or record.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">@=</span> <span class="n">pair</span>
</code></pre></div>
</div>
<p>The length of an array can be accessed using the <code class="highlight"><span class="nb">len</span><span class="p">()</span></code> function:</p>
<div class="highlight"><pre><span></span><code><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span> <span class="o">==</span> <span class="mi">3</span>
</code></pre></div>
<p>Arrays can be iterated over using a for loop:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="n">debug_log</span><span class="p">(</span><span class="n">element</span><span class="p">)</span>
</code></pre></div>
<p>Other functionality:</p>
<p><a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span></code></a> inherits from <a class="autorefs autorefs-internal" title="            ArrayLike" href="../../reference/sonolus.script.array_like/#sonolus.script.array_like.ArrayLike"><code class="highlight"><span class="n">ArrayLike</span></code></a> and supports all of its methods.</p>
<h3 id="instance-checks_1">Instance Checks<a class="headerlink" href="#instance-checks_1" title="Permanent link">&para;</a></h3>
<p>Any array is considered an instance of the generic <a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span></code></a> type.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Array</span><span class="p">)</span>
</code></pre></div>
<p>Only an array with the exact element type and size is considered an instance of a concrete <a class="autorefs autorefs-internal" title="            Array" href="../../reference/sonolus.script.array/#sonolus.script.array.Array"><code class="highlight"><span class="n">Array</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">Size</span><span class="p">]</span></code></a> type.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Array</span><span class="p">[</span><span class="n">Pair</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
</code></pre></div>
<h3 id="enums">Enums<a class="headerlink" href="#enums" title="Permanent link">&para;</a></h3>
<p>There is limited support for enums containing <a href="#num"><code class="highlight"><span class="n">Num</span></code></a> values. Methods on enums are not supported. 
When used as a type, any enum class is treated as <a href="#num"><code class="highlight"><span class="n">Num</span></code></a> and no enforcement is done on the values.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MyEnum</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">A</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">B</span> <span class="o">=</span> <span class="mi">2</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="n">MyEnum</span><span class="p">,</span> <span class="mi">2</span><span class="p">](</span><span class="n">MyEnum</span><span class="o">.</span><span class="n">A</span><span class="p">,</span> <span class="n">MyEnum</span><span class="o">.</span><span class="n">B</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Array</span><span class="p">[</span><span class="n">MyEnum</span><span class="p">,</span> <span class="mi">2</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<h2 id="record">Record<a class="headerlink" href="#record" title="Permanent link">&para;</a></h2>
<p><a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> is the base class for user-defined types in Sonolus.py. It functions similarly to dataclasses.</p>
<p>You can import <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> from <code class="highlight"><span class="n">sonolus</span><span class="o">.</span><span class="n">script</span><span class="o">.</span><span class="n">record</span></code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">sonolus.script.record</span><span class="w"> </span><span class="kn">import</span> <span class="n">Record</span>
</code></pre></div>
<h3 id="declaration_2">Declaration<a class="headerlink" href="#declaration_2" title="Permanent link">&para;</a></h3>
<p>A record can be defined by inheriting from <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> and defining zero or more fields as class attributes:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MyPair</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">first</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">second</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>
<p>Fields must be annotated by <a href="#num"><code class="highlight"><span class="n">Num</span></code></a> (or equivalently <code class="highlight"><span class="nb">int</span></code>, <code class="highlight"><span class="nb">float</span></code>, or <code class="highlight"><span class="nb">bool</span></code>), 
a concrete array type, or a concrete record type.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Not ok:</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyRecord</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">array</span><span class="p">:</span> <span class="n">Array</span>  <span class="c1"># Array is not concrete since it has unspecified type parameters</span>
</code></pre></div>
<p>A <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> subclass cannot be further subclassed.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Not ok:</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyPairSubclass</span><span class="p">(</span><span class="n">MyPair</span><span class="p">):</span>
    <span class="n">third</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>
<h3 id="instantiation">Instantiation<a class="headerlink" href="#instantiation" title="Permanent link">&para;</a></h3>
<p>A constructor is automatically generated for the <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> class and the unary <code class="highlight"><span class="o">+</span></code> 
operator can also be used to create a zero-initialized record.</p>
<div class="highlight"><pre><span></span><code><span class="n">pair_1</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">pair_2</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="n">first</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">pair_3</span> <span class="o">=</span> <span class="o">+</span><span class="n">MyPair</span>  <span class="c1"># Create a zero-initialized record</span>
</code></pre></div>
<h3 id="generics">Generics<a class="headerlink" href="#generics" title="Permanent link">&para;</a></h3>
<p><a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> supports generics. If at least one type parameter is provided in the class definition, a generic 
record type is created.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MyGenericPair</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">U</span><span class="p">](</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">first</span><span class="p">:</span> <span class="n">T</span>
    <span class="n">second</span><span class="p">:</span> <span class="n">U</span>

<span class="k">class</span><span class="w"> </span><span class="nc">ContainsArray</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">Size</span><span class="p">](</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">array</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">Size</span><span class="p">]</span>
</code></pre></div>
<p>Generic type parameters can be specified explicitly when instantiating a generic or inferred from the provided values:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair_1</span> <span class="o">=</span> <span class="n">MyGenericPair</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">pair_2</span> <span class="o">=</span> <span class="n">MyGenericPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>The value of a type parameter can be accessed via the <a class="autorefs autorefs-internal" title="            type_var_value(var)

  
      classmethod
  " href="../../reference/sonolus.script.record/#sonolus.script.record.Record.type_var_value"><code class="highlight"><span class="n">type_var_value</span><span class="p">()</span></code></a> classmethod.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MyGenericRecord</span><span class="p">[</span><span class="n">T</span><span class="p">](</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">value</span><span class="p">:</span> <span class="n">T</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">my_type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">type</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_var_value</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>


<span class="k">assert</span> <span class="n">MyGenericRecord</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">my_type</span><span class="p">()</span> <span class="o">==</span> <span class="n">Num</span>
</code></pre></div>
<h3 id="operations_2">Operations<a class="headerlink" href="#operations_2" title="Permanent link">&para;</a></h3>
<p>A record can be copied with the unary <code class="highlight"><span class="o">+</span></code> operator, which creates a new record with the same field values:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">copy_pair</span> <span class="o">=</span> <span class="o">+</span><span class="n">pair</span>
<span class="k">assert</span> <span class="n">copy_pair</span> <span class="o">==</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>The value of a record can be copied from another record using the copy from operator (<code class="highlight"><span class="o">@=</span></code>)<sup id="fnref2:1"><a class="footnote-ref" href="#fn:1">1</a></sup>:</p>
<div class="highlight"><pre><span></span><code><span class="n">source_record</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">destination_record</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">destination_record</span> <span class="o">@=</span> <span class="n">source_record</span>
<span class="k">assert</span> <span class="n">destination_record</span> <span class="o">==</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>Records can be compared for equality and inequality:</p>
<div class="highlight"><pre><span></span><code><span class="k">assert</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">!=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div>
<p>Dunder methods can be implemented to define custom behavior for records:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MyAddablePair</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">first</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">second</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">MyAddablePair</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MyAddablePair</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">MyAddablePair</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">first</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">first</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">second</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">second</span><span class="p">)</span>
</code></pre></div>
<p>If a dunder method has an in-place variant and the in-place method is not explicitly implemented
(e.g. <code class="highlight"><span class="fm">__iadd__</span></code> is the in-place variant of <code class="highlight"><span class="fm">__add__</span></code>), <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> will automatically generate one that 
modifies the instance in place:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">MyAddablePair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">reference</span> <span class="o">=</span> <span class="n">pair</span>
<span class="n">pair</span> <span class="o">+=</span> <span class="n">MyAddablePair</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">pair</span> <span class="o">==</span> <span class="n">reference</span> <span class="o">==</span> <span class="n">MyAddablePair</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># The instance is modified in place</span>
</code></pre></div>
<p>Regular methods, properties, classmethods, and staticmethods can also be defined in a <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> subclass.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MyRecord</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">my_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">my_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@property</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">my_property</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">my_classmethod</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">my_staticmethod</span><span class="p">():</span>
        <span class="o">...</span>
</code></pre></div>
<p>Fields can be accessed and updated using the dot operator:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">pair</span><span class="o">.</span><span class="n">first</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">pair</span><span class="o">.</span><span class="n">second</span> <span class="o">==</span> <span class="mi">2</span>

<span class="n">pair</span><span class="o">.</span><span class="n">first</span> <span class="o">=</span> <span class="mi">3</span>
<span class="k">assert</span> <span class="n">pair</span> <span class="o">==</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If a value in a record is not a <a href="#num"><code class="highlight"><span class="n">Num</span></code></a>, updating it will copy the given value into the corresponding field
of the record. However, that field remains independent of the original value.</p>
<div class="highlight"><pre><span></span><code><span class="n">array</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">record</span> <span class="o">=</span> <span class="n">MyRecord</span><span class="p">(</span><span class="n">array</span><span class="p">)</span>

<span class="n">record</span><span class="o">.</span><span class="n">array</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># or equivalently: record.array @= Array(4, 5, 6)</span>
<span class="k">assert</span> <span class="n">record</span><span class="o">.</span><span class="n">array</span> <span class="o">==</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="k">assert</span> <span class="n">record</span><span class="o">.</span><span class="n">array</span> <span class="o">==</span> <span class="n">Array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>  <span class="c1"># The value in the record is independent of the original</span>
</code></pre></div>
<p>For clarity, it's recommended to use the copy from operator (<code class="highlight"><span class="o">@=</span></code>) when updating fields that are known to be
an array or record.</p>
<div class="highlight"><pre><span></span><code><span class="n">record</span><span class="o">.</span><span class="n">array</span> <span class="o">@=</span> <span class="n">array</span>
</code></pre></div>
</div>
<h3 id="instance-checks_2">Instance Checks<a class="headerlink" href="#instance-checks_2" title="Permanent link">&para;</a></h3>
<p>Any record is considered an instance of the generic <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> type:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pair</span><span class="p">,</span> <span class="n">Record</span><span class="p">)</span>
</code></pre></div>
<p>If a record is generic, any instance of it is considered an instance of the generic type:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">MyGenericPair</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pair</span><span class="p">,</span> <span class="n">MyGenericPair</span><span class="p">)</span>
</code></pre></div>
<p>Only an instance of a record with the exact field types is considered an instance of a concrete <a class="autorefs autorefs-internal" title="            Record" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> type:</p>
<div class="highlight"><pre><span></span><code><span class="n">pair</span> <span class="o">=</span> <span class="n">MyPair</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pair</span><span class="p">,</span> <span class="n">MyPair</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pair</span><span class="p">,</span> <span class="n">MyPair</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Array</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">]])</span>
</code></pre></div>
<h2 id="transient-types">Transient Types<a class="headerlink" href="#transient-types" title="Permanent link">&para;</a></h2>
<p>In addition to the core types, the following transient types are available.
There are some restrictions on how they can be used:</p>
<ul>
<li>They cannot be used as type arguments:
    <div class="highlight"><pre><span></span><code><span class="c1"># Not ok:</span>
<span class="n">Array</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div></li>
<li>They cannot be used as a field types:
    <div class="highlight"><pre><span></span><code><span class="c1"># Not ok:</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyRecord</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">str</span>

<span class="c1"># Not ok:</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MyArchetype</span><span class="p">(</span><span class="n">PlayArchetype</span><span class="p">):</span>
    <span class="n">field</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">imported</span><span class="p">()</span>
</code></pre></div></li>
</ul>
<h3 id="tuple">tuple<a class="headerlink" href="#tuple" title="Permanent link">&para;</a></h3>
<p>The built-in <code class="highlight"><span class="nb">tuple</span></code> type can be declared and destructured as usual:</p>
<div class="highlight"><pre><span></span><code><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="o">=</span> <span class="n">t</span>
</code></pre></div>
<p>Tuples may be indexed, but the given index must be a compile-time constant:</p>
<div class="highlight"><pre><span></span><code><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># Ok</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># Not ok:</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="n">random_integer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)])</span>
</code></pre></div>
<p>They may also be created as an *args argument to a function and unpacked as an argument to a function:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span>

<span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">f1</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</code></pre></div>
<p>Iterating over a tuple is also supported, but they are expanded at compile time, so iterating over large tuples may
significantly increase the size of the compiled engine and slow down compilation:</p>
<div class="highlight"><pre><span></span><code><span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">t</span><span class="p">:</span>
    <span class="n">debug_log</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</code></pre></div>
<h3 id="dict">dict<a class="headerlink" href="#dict" title="Permanent link">&para;</a></h3>
<p>Dicts can be created by the **kwargs syntax and unpacked as arguments to a function:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">f1</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="k">def</span><span class="w"> </span><span class="nf">f2</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">f1</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<h3 id="str">str<a class="headerlink" href="#str" title="Permanent link">&para;</a></h3>
<p>Strings can be created and compared for equality and inequality:</p>
<div class="highlight"><pre><span></span><code><span class="n">s1</span> <span class="o">=</span> <span class="s1">&#39;abc&#39;</span>
<span class="n">s2</span> <span class="o">=</span> <span class="s1">&#39;def&#39;</span>

<span class="k">assert</span> <span class="n">s1</span> <span class="o">==</span> <span class="s1">&#39;abc&#39;</span>
<span class="k">assert</span> <span class="n">s1</span> <span class="o">!=</span> <span class="n">s2</span>
</code></pre></div>
<h3 id="special-constants">Special Constants<a class="headerlink" href="#special-constants" title="Permanent link">&para;</a></h3>
<p>The built-in <code class="highlight"><span class="kc">None</span></code>, <code class="highlight"><span class="bp">Ellipsis</span></code>, and <code class="highlight"><span class="bp">NotImplemented</span></code> constants are supported.</p>
<p><code class="highlight"><span class="kc">None</span></code> is the only supported right-side operand for the <code class="highlight"><span class="ow">is</span></code> and <code class="highlight"><span class="ow">is</span> <span class="ow">not</span></code> operators.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c1"># Ok</span>
<span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="n">b</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>

<span class="c1"># Not ok:</span>
<span class="n">b</span> <span class="ow">is</span> <span class="n">b</span>
</code></pre></div>
<h3 id="other-types">Other types<a class="headerlink" href="#other-types" title="Permanent link">&para;</a></h3>
<p>Classes themselves are considered instances of <code class="highlight"><span class="nb">type</span></code>. They may be used as arguments to functions, but annotating
a record field as <code class="highlight"><span class="nb">type</span></code> or declaring an array with element type <code class="highlight"><span class="nb">type</span></code> is not supported.</p>
<p>Functions or methods may be used as arguments to functions, but annotating a record field or setting
an array element type to <code class="highlight"><span class="n">Callable</span></code> is not supported.</p>
<h3 id="storing-instances-of-transient-types-in-records">Storing Instances of Transient Types in Records<a class="headerlink" href="#storing-instances-of-transient-types-in-records" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The following is advanced usage and is unnecessary for most use cases.</p>
</div>
<p>While transient types cannot be used as type parameters or as a Record field's type, it is possible to store them
in a generic record in a field annotated by a type parameter. Type arguments must not be explicitly provided when
doing so. If multiple fields are annotated by the same type parameter, all such fields may be required to hold the exact
same value in some cases.</p>
<p>For example, a version of the <code class="highlight"><span class="nb">filter</span></code> function can be implemented as follows (see <a class="autorefs autorefs-internal" title=" iterator" href="../../reference/sonolus.script.iterator/#sonolus.script.iterator">Iterables</a> 
for more information on iterators):</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">_FilteringIterator</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">Fn</span><span class="p">](</span><span class="n">Record</span><span class="p">,</span> <span class="n">SonolusIterator</span><span class="p">):</span>
    <span class="n">fn</span><span class="p">:</span> <span class="n">Fn</span>
    <span class="n">iterator</span><span class="p">:</span> <span class="n">T</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">next</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Maybe</span><span class="p">[</span><span class="n">T</span><span class="p">]:</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">iterator</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">is_nothing</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">Nothing</span>
            <span class="n">inside</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fn</span><span class="p">(</span><span class="n">inside</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">Some</span><span class="p">(</span><span class="n">inside</span><span class="p">)</span>


<span class="k">def</span><span class="w"> </span><span class="nf">my_filter</span><span class="p">[</span><span class="n">T</span><span class="p">,</span> <span class="n">Fn</span><span class="p">](</span><span class="n">iterable</span><span class="p">:</span> <span class="n">T</span><span class="p">,</span> <span class="n">fn</span><span class="p">:</span> <span class="n">Fn</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">_FilteringIterator</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">iterable</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">())</span>
</code></pre></div>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>The copy from operator (<code class="highlight"><span class="o">@=</span></code>) is officially the in-place matrix multiplication operator in Python,
but it has been repurposed in Sonolus.py for copying Arrays and Records.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../" class="md-footer__link md-footer__link--prev" aria-label="Previous: Concepts">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Concepts
              </div>
            </div>
          </a>
        
        
          
          <a href="../constructs/" class="md-footer__link md-footer__link--next" aria-label="Next: Constructs">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Constructs
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.footer", "toc.follow", "navigation.top"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>