
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://sonolus.py.qwewqa.xyz/concepts/constructs/">
      
      
        <link rel="prev" href="../types/">
      
      
        <link rel="next" href="../builtins/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.45">
    
    
      
        <title>Constructs - Sonolus.py Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#constructs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Sonolus.py Documentation" class="md-header__button md-logo" aria-label="Sonolus.py Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sonolus.py Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Constructs
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/qwewqa/sonolus.py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Sonolus.py

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Sonolus.py Documentation" class="md-nav__button md-logo" aria-label="Sonolus.py Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Sonolus.py Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/qwewqa/sonolus.py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sonolus.py
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Constructs
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Constructs
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-differences" class="md-nav__link">
    <span class="md-ellipsis">
      Key Differences
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile-time-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Compile Time Evaluation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Expressions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expressions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#literals" class="md-nav__link">
    <span class="md-ellipsis">
      Literals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    <span class="md-ellipsis">
      Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statements" class="md-nav__link">
    <span class="md-ellipsis">
      Statements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Statements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conditional Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-elif-else" class="md-nav__link">
    <span class="md-ellipsis">
      if / elif / else
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#match-case" class="md-nav__link">
    <span class="md-ellipsis">
      match / case
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loops" class="md-nav__link">
    <span class="md-ellipsis">
      Loops
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#while-else" class="md-nav__link">
    <span class="md-ellipsis">
      while / else
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-else" class="md-nav__link">
    <span class="md-ellipsis">
      for / else
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assert" class="md-nav__link">
    <span class="md-ellipsis">
      assert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass" class="md-nav__link">
    <span class="md-ellipsis">
      pass
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Builtins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resources &amp; Declarations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Line
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/builtins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    builtins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/random/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    random
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.archetype/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.archetype
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.array/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.array
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.array_like/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.array_like
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.bucket/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.bucket
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.containers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.containers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.debug
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.easing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.easing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.effect/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.effect
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.engine/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.engine
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.globals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.globals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.instruction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.instruction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.interval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.interval
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.iterator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.iterator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.level/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.level
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.metadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.num/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.num
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.particle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.particle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.printing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.printing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.quad/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.quad
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.record/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.record
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.runtime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.runtime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.sprite/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.sprite
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.stream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.stream
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.text
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.timing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.timing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.transform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.transform
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.ui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.ui
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.values/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/sonolus.script.vec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sonolus.script.vec
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-differences" class="md-nav__link">
    <span class="md-ellipsis">
      Key Differences
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compile-time-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Compile Time Evaluation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    <span class="md-ellipsis">
      Variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expressions" class="md-nav__link">
    <span class="md-ellipsis">
      Expressions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Expressions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#literals" class="md-nav__link">
    <span class="md-ellipsis">
      Literals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators" class="md-nav__link">
    <span class="md-ellipsis">
      Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#statements" class="md-nav__link">
    <span class="md-ellipsis">
      Statements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assignment" class="md-nav__link">
    <span class="md-ellipsis">
      Assignment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-statements" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Statements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Conditional Statements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-elif-else" class="md-nav__link">
    <span class="md-ellipsis">
      if / elif / else
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#match-case" class="md-nav__link">
    <span class="md-ellipsis">
      match / case
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loops" class="md-nav__link">
    <span class="md-ellipsis">
      Loops
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loops">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#while-else" class="md-nav__link">
    <span class="md-ellipsis">
      while / else
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#for-else" class="md-nav__link">
    <span class="md-ellipsis">
      for / else
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions" class="md-nav__link">
    <span class="md-ellipsis">
      Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classes" class="md-nav__link">
    <span class="md-ellipsis">
      Classes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assert" class="md-nav__link">
    <span class="md-ellipsis">
      assert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pass" class="md-nav__link">
    <span class="md-ellipsis">
      pass
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="constructs">Constructs<a class="headerlink" href="#constructs" title="Permanent link">&para;</a></h1>
<p>Most standard Python constructs are supported in Sonolus.py.</p>
<h2 id="key-differences">Key Differences<a class="headerlink" href="#key-differences" title="Permanent link">&para;</a></h2>
<ul>
<li>Non-num variables must have a single live definition.<ul>
<li>If there are multiple definitions <code class="highlight"><span class="n">var</span> <span class="o">=</span> <span class="o">...</span></code> for a variable, the compiler must be able to determine that a single
  one is active whenever the variable is used.</li>
</ul>
</li>
<li>Conditional branches may be eliminated if they are determined to be unreachable</li>
<li>Functions with non-num return types may not return multiple distinct objects<ul>
<li>Most functions returning a non-num value should have a single return at the end</li>
</ul>
</li>
<li>Destructuring assignment does not support the <code class="highlight"><span class="o">*</span></code> operator.</li>
<li>Sequence <code class="highlight"><span class="k">match</span></code> patterns do not support the <code class="highlight"><span class="o">*</span></code> operator.</li>
<li>Mapping <code class="highlight"><span class="k">match</span></code> patterns are unsupported.</li>
<li>Imports may not be done within functions</li>
<li>The <code class="highlight"><span class="k">global</span></code> and <code class="highlight"><span class="k">nonlocal</span></code> keywords are unsupported.</li>
</ul>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>The following constructs are supported in Sonolus.py:  </p>
<ul>
<li>Expressions:<ul>
<li>Literals:<ul>
<li>Numbers (excluding complex numbers): <code class="highlight"><span class="mi">0</span></code>, <code class="highlight"><span class="mi">1</span></code>, <code class="highlight"><span class="mf">1.0</span></code>, <code class="highlight"><span class="mf">1e3</span></code>, <code class="highlight"><span class="mh">0x1</span></code>, <code class="highlight"><span class="mb">0b1</span></code>, <code class="highlight"><span class="mo">0o1</span></code></li>
<li>Booleans: <code class="highlight"><span class="kc">True</span></code>, <code class="highlight"><span class="kc">False</span></code></li>
<li>Strings: <code class="highlight"><span class="s1">&#39;Hello, World!&#39;</span></code>, <code class="highlight"><span class="s2">&quot;Hello, World!&quot;</span></code></li>
<li>Tuples: <code class="highlight"><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span></code></li>
</ul>
</li>
<li>Operators (if supported by the operands):<ul>
<li>Unary: <code class="highlight"><span class="o">+</span></code>, <code class="highlight"><span class="o">-</span></code>, <code class="highlight"><span class="ow">not</span></code>, <code class="highlight"><span class="o">~</span></code></li>
<li>Binary: <code class="highlight"><span class="o">+</span></code>, <code class="highlight"><span class="o">-</span></code>, <code class="highlight"><span class="o">*</span></code>, <code class="highlight"><span class="o">/</span></code>, <code class="highlight"><span class="o">//</span></code>, <code class="highlight"><span class="o">%</span></code>, <code class="highlight"><span class="o">**</span></code>, <code class="highlight"><span class="o">&amp;</span></code>, <code class="highlight"><span class="o">|</span></code>, <code class="highlight"><span class="o">^</span></code>, <code class="highlight"><span class="o">&lt;&lt;</span></code>, <code class="highlight"><span class="o">&gt;&gt;</span></code></li>
<li>Comparison: <code class="highlight"><span class="o">==</span></code>, <code class="highlight"><span class="o">!=</span></code>, <code class="highlight"><span class="o">&gt;</span></code>, <code class="highlight"><span class="o">&lt;</span></code>, <code class="highlight"><span class="o">&gt;=</span></code>, <code class="highlight"><span class="o">&lt;=</span></code>, <code class="highlight"><span class="ow">is</span></code>, <code class="highlight"><span class="ow">is</span> <span class="ow">not</span></code>, <code class="highlight"><span class="ow">in</span></code>, <code class="highlight"><span class="ow">not</span> <span class="ow">in</span></code></li>
<li>Logical: <code class="highlight"><span class="ow">and</span></code>, <code class="highlight"><span class="ow">or</span></code> (for <a href="../types/#num"><code class="highlight"><span class="n">Num</span></code></a> arguments only)</li>
<li>Ternary: <code class="highlight"><span class="n">a</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="k">else</span> <span class="n">b</span></code> (for <a href="../types/#num"><code class="highlight"><span class="n">Num</span></code></a> conditions only)</li>
<li>Attribute: <code class="highlight"><span class="n">a</span><span class="o">.</span><span class="n">b</span></code></li>
<li>Indexing: <code class="highlight"><span class="n">a</span><span class="p">[</span><span class="n">b</span><span class="p">]</span></code></li>
<li>Call: <code class="highlight"><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span></code></li>
</ul>
</li>
<li>Variables: <code class="highlight"><span class="n">a</span></code>, <code class="highlight"><span class="n">b</span></code>, <code class="highlight"><span class="n">c</span></code></li>
<li>Lambda: <code class="highlight"><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span></code></li>
<li>Assignment Expression: <code class="highlight"><span class="p">(</span><span class="n">a</span> <span class="o">:=</span> <span class="n">b</span><span class="p">)</span></code></li>
</ul>
</li>
<li>Statements:<ul>
<li>Simple Statements:<ul>
<li>Assignments:<ul>
<li>Simple assignment: <code class="highlight"><span class="n">a</span> <span class="o">=</span> <span class="n">b</span></code></li>
<li>Augmented assignment: <code class="highlight"><span class="n">a</span> <span class="o">+=</span> <span class="n">b</span></code></li>
<li>Attribute assignment: <code class="highlight"><span class="n">a</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">c</span></code></li>
<li>Index assignment: <code class="highlight"><span class="n">a</span><span class="p">[</span><span class="n">b</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span></code></li>
<li>Destructuring assignment: <code class="highlight"><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span></code></li>
<li>Multiple assignment: <code class="highlight"><span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span></code></li>
<li>Annotated assignment: <code class="highlight"><span class="n">a</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span></code></li>
</ul>
</li>
<li>Assert: <code class="highlight"><span class="k">assert</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">message</span><span class="o">&gt;</span></code></li>
<li>Pass: <code class="highlight"><span class="k">pass</span></code></li>
<li>Break: <code class="highlight"><span class="k">break</span></code></li>
<li>Continue: <code class="highlight"><span class="k">continue</span></code></li>
<li>Return: <code class="highlight"><span class="k">return</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span></code></li>
<li>Import: <code class="highlight"><span class="kn">import</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span></code>, <code class="highlight"><span class="kn">from</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span> <span class="kn">import</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span></code> (only outside of functions)</li>
</ul>
</li>
<li>Compound Statements:<ul>
<li>If: <code class="highlight"><span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code>, <code class="highlight"><span class="k">elif</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code>, <code class="highlight"><span class="k">else</span><span class="p">:</span></code></li>
<li>While: <code class="highlight"><span class="k">while</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">:</span></code>, <code class="highlight"><span class="k">else</span><span class="p">:</span></code></li>
<li>For: <code class="highlight"><span class="k">for</span> <span class="o">&lt;</span><span class="n">target</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable</span><span class="o">&gt;</span><span class="p">:</span></code>, <code class="highlight"><span class="k">else</span><span class="p">:</span></code></li>
<li>Match: <code class="highlight"><span class="k">match</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">:</span></code>, <code class="highlight"><span class="k">case</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span><span class="p">:</span></code></li>
<li>Function Definition: <code class="highlight"><span class="k">def</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">parameters</span><span class="o">&gt;</span><span class="p">):</span></code></li>
<li>Class Definition: <code class="highlight"><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span></code> (only outside of functions)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="compile-time-evaluation">Compile Time Evaluation<a class="headerlink" href="#compile-time-evaluation" title="Permanent link">&para;</a></h2>
<p>Some expressions can be evaluated at compile time:</p>
<ul>
<li>Numeric literals: <code class="highlight"><span class="mi">1</span></code>, <code class="highlight"><span class="mf">2.5</span></code>, <code class="highlight"><span class="kc">True</span></code>, <code class="highlight"><span class="kc">False</span></code>, ...</li>
<li>None: <code class="highlight"><span class="kc">None</span></code></li>
<li>Basic arithmetic: for compile time constant operands: <code class="highlight"><span class="n">a</span> <span class="o">+</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">-</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">*</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">/</span> <span class="n">b</span></code>, ...</li>
<li>Is/Is Not None: for any left-hand operand, <code class="highlight"><span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span></code>, <code class="highlight"><span class="n">a</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></code></li>
<li>Type checks: for any value, <code class="highlight"><span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span></code>, <code class="highlight"><span class="nb">issubclass</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span></code></li>
<li>Boolean operations:<ul>
<li>Negation: <code class="highlight"><span class="ow">not</span> <span class="n">a</span></code></li>
<li>And<ul>
<li>Both operands are compile time constants: <code class="highlight"><span class="n">a</span> <span class="ow">and</span> <span class="n">b</span></code></li>
<li>One operand is known to be False: <code class="highlight"><span class="kc">False</span> <span class="ow">and</span> <span class="n">a</span></code>, <code class="highlight"><span class="n">a</span> <span class="ow">and</span> <span class="kc">False</span></code></li>
</ul>
</li>
<li>Or<ul>
<li>Both operands are compile time constants: <code class="highlight"><span class="n">a</span> <span class="ow">or</span> <span class="n">b</span></code></li>
<li>One operand is known to be True: <code class="highlight"><span class="kc">True</span> <span class="ow">or</span> <span class="n">a</span></code>, <code class="highlight"><span class="n">a</span> <span class="ow">or</span> <span class="kc">True</span></code></li>
</ul>
</li>
</ul>
</li>
<li>Comparison: for compile time constant operands: <code class="highlight"><span class="n">a</span> <span class="o">==</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">!=</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">&gt;=</span> <span class="n">b</span></code>, <code class="highlight"><span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span></code>, ...</li>
<li>Variables assigned to compile time constants: <code class="highlight"><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span></code>, <code class="highlight"><span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">1</span></code>, ...</li>
</ul>
<p>Some values like array sizes must be compile-time constants.</p>
<p>The compiler will eliminate branches known to be unreachable at compile time:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Num</span><span class="p">):</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

<span class="c1"># This works because `isinstance` is evaluated at compile time and only the first (if) branch is reachable.</span>
<span class="c1"># The second (else) branch is eliminated, so we don&#39;t get an error that a does not have &#39;x&#39; and &#39;y&#39; attributes.</span>
<span class="n">f</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
</code></pre></div>
<h2 id="variables">Variables<a class="headerlink" href="#variables" title="Permanent link">&para;</a></h2>
<p>Variables can be assigned and used like in vanilla Python.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</code></pre></div>
<p>Unlike vanilla Python, non-num variables must have a single unambiguous definition when used.
Nums have no such restriction.</p>
<p>The following are allowed:</p>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># (2)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># &#39;v&#39; is valid because (2) is the only active definition</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># (1)</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># (2)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># &#39;v&#39; is valid because (2) is the only active definition</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="k">while</span> <span class="n">condition</span><span class="p">():</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># (2)</span>
    <span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># &#39;v&#39; is valid because (2) is the only active definition</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
    <span class="n">v</span> <span class="o">@=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># Updates &#39;v&#39; in-place without redefining it</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># &#39;v&#39; is valid because (1) is the only active definition</span>
</code></pre></div>
<p>The following are not allowed:</p>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># (2)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># &#39;v&#39; is invalid because both (1) and (2) are active</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># (1)</span>
<span class="k">while</span> <span class="n">condition</span><span class="p">():</span>
    <span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>  <span class="c1"># &#39;v&#39; is invalid because (1) and (2) are active</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># (2) redefines &#39;v&#39; for future iterations</span>
</code></pre></div>
<h2 id="expressions">Expressions<a class="headerlink" href="#expressions" title="Permanent link">&para;</a></h2>
<h3 id="literals">Literals<a class="headerlink" href="#literals" title="Permanent link">&para;</a></h3>
<p><code class="highlight"><span class="nb">int</span></code>, <code class="highlight"><span class="nb">float</span></code>, <code class="highlight"><span class="nb">bool</span></code>, <code class="highlight"><span class="nb">str</span></code>, and <code class="highlight"><span class="nb">tuple</span></code> literals are supported:</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">c</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">d</span> <span class="o">=</span> <span class="s1">&#39;Hello, World!&#39;</span>
<span class="n">e</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h3 id="operators">Operators<a class="headerlink" href="#operators" title="Permanent link">&para;</a></h3>
<p>All standard operators are supported for types implementing them. <code class="highlight"><span class="o">@=</span></code> is reserved as the copy-from operator.</p>
<div class="highlight"><pre><span></span><code><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span>
<span class="n">b</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">-</span> <span class="mi">4</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">*</span> <span class="mi">6</span>
<span class="n">d</span> <span class="o">=</span> <span class="mi">7</span> <span class="o">/</span> <span class="mi">8</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">e</span><span class="o">.</span><span class="n">y</span>
<span class="n">g</span> <span class="o">=</span> <span class="n">Array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">g</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">g</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="p">(</span><span class="n">i</span> <span class="o">:=</span> <span class="mi">1</span><span class="p">)</span>
</code></pre></div>
<p>The ternary operator is supported for, but the condition must be a <a href="../types/#num"><code class="highlight"><span class="n">Num</span></code></a>. If the operands are not nums,
the condition must be a compile-time constant or this will be considered an error:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ok</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="mi">2</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">b</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">b</span>

<span class="c1"># Not ok</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>  <span class="c1"># Multiple definitions</span>
</code></pre></div>
<p>If the condition is a compile-time constant, then the ternary operator will be evaluated at compile time:</p>
<div class="highlight"><pre><span></span><code><span class="n">e</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">e</span>  <span class="c1"># Ok, evaluated at compile time</span>
</code></pre></div>
<h2 id="statements">Statements<a class="headerlink" href="#statements" title="Permanent link">&para;</a></h2>
<h3 id="assignment">Assignment<a class="headerlink" href="#assignment" title="Permanent link">&para;</a></h3>
<p>Most assignment types are supported. Destructuring assignment is supported only for tuples, and the <code class="highlight"><span class="o">*</span></code>
operator is not supported.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Ok</span>
<span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">b</span> <span class="o">+=</span> <span class="mi">2</span>
<span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">f</span><span class="p">),</span> <span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span>

<span class="c1"># Not ok</span>
<span class="n">h</span><span class="p">,</span> <span class="o">*</span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>  <span class="c1"># Not supported</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">pass</span>
</code></pre></div>
<h3 id="conditional-statements">Conditional Statements<a class="headerlink" href="#conditional-statements" title="Permanent link">&para;</a></h3>
<p>The standard conditional statements are supported.</p>
<h4 id="if-elif-else">if / elif / else<a class="headerlink" href="#if-elif-else" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="k">if</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">elif</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="o">...</span>
<span class="k">else</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>When the condition is a compile-time constant, the compiler will remove the unreachable branches:</p>
<div class="grid" markdown>

<div class="highlight"><span class="filename">Code</span><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">if</span> <span class="n">v</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><span class="filename">Equivalent</span><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="kc">None</span>
<span class="c1"># The &#39;if&#39; branch is always taken</span>
<span class="n">v</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">v</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</code></pre></div>

</div>

<p>This is useful for handling optional arguments and supporting multiple argument types:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Vec2</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">debug_log</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Vec2</span> <span class="o">|</span> <span class="nb">int</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">Vec2</span><span class="p">):</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>
<h4 id="match-case">match / case<a class="headerlink" href="#match-case" title="Permanent link">&para;</a></h4>
<p>The <code class="highlight"><span class="k">match</span></code> statement is supported for matching values against patterns. All patterns, including subpatterns,
except mapping patterns and sequences with the <code class="highlight"><span class="o">*</span></code> operator are supported. 
Records have a <code class="highlight"><span class="n">__match_args__</span></code> attribute defined automatically, so they can be used with positional subpatterns.</p>
<div class="highlight"><pre><span></span><code><span class="k">match</span> <span class="n">x</span><span class="p">:</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">case</span> <span class="mi">2</span> <span class="o">|</span> <span class="mi">3</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">case</span> <span class="n">Vec2</span><span class="p">()</span> <span class="k">as</span> <span class="n">v</span><span class="p">:</span>
        <span class="o">...</span>
    <span class="k">case</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">case</span> <span class="n">Num</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="o">...</span>
    <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
        <span class="o">...</span>
</code></pre></div>
<p>As with <code class="highlight"><span class="k">if</span></code> statements, the compiler will remove unreachable branches when the value is a compile-time constant:</p>
<div class="grid" markdown>

<div class="highlight"><span class="filename">Code</span><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">match</span> <span class="n">v</span><span class="p">:</span>
    <span class="k">case</span> <span class="n">Vec2</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span>
    <span class="k">case</span> <span class="n">Num</span><span class="p">():</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">case</span><span class="w"> </span><span class="k">_</span><span class="p">:</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><span class="filename">Equivalent</span><pre><span></span><code><span class="n">v</span> <span class="o">=</span> <span class="mi">1</span>
<span class="c1"># &#39;case Num()&#39; is always taken</span>
<span class="n">debug_log</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
</code></pre></div>

</div>

<h3 id="loops">Loops<a class="headerlink" href="#loops" title="Permanent link">&para;</a></h3>
<h4 id="while-else">while / else<a class="headerlink" href="#while-else" title="Permanent link">&para;</a></h4>
<p>While loops are fully supported, including the <code class="highlight"><span class="k">else</span></code> clause and the <code class="highlight"><span class="k">break</span></code> and <code class="highlight"><span class="k">continue</span></code> statements.</p>
<div class="highlight"><pre><span></span><code><span class="k">while</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">if</span> <span class="o">...</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">if</span> <span class="o">...</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="o">...</span>
<span class="k">else</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<h4 id="for-else">for / else<a class="headerlink" href="#for-else" title="Permanent link">&para;</a></h4>
<p>For loops are supported, including the <code class="highlight"><span class="k">else</span></code> clause and the <code class="highlight"><span class="k">break</span></code> and <code class="highlight"><span class="k">continue</span></code> statements.
Custom iterators must subclass <a class="autorefs autorefs-internal" href="../../reference/sonolus.script.iterator/#sonolus.script.iterator.SonolusIterator">SonolusIterator</a>.</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="o">...</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="k">if</span> <span class="o">...</span><span class="p">:</span>
        <span class="k">continue</span>
    <span class="o">...</span>
<span class="k">else</span><span class="p">:</span>
    <span class="o">...</span>
</code></pre></div>
<p>Tuples can be iterated over and result in an unrolled loop. This can be useful for iterating of objects of different,
types, but care should be taken since it results in more code being generated compared to a normal loop:</p>
<div class="grid" markdown>

<div class="highlight"><span class="filename">Code</span><pre><span></span><code><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">):</span>
    <span class="n">debug_log</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><span class="filename">Equivalent</span><pre><span></span><code><span class="n">debug_log</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">debug_log</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</code></pre></div>

</div>

<h3 id="functions">Functions<a class="headerlink" href="#functions" title="Permanent link">&para;</a></h3>
<p>Functions and lambdas are supported, including within other functions:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">b</span><span class="p">:</span> <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
</code></pre></div>
<p>Function returns follow the same rules as variable access. If a function returns a non-num value, it most only
return that value. If the function always returns a num, it may have any number of returns. Similarly, if a function
always returns None (<code class="highlight"><span class="k">return</span> <span class="kc">None</span></code> or just <code class="highlight"><span class="k">return</span></code>), it may have any number of returns.</p>
<p>The following are allowed:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">f</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="c1"># Only one return is reachable since isinstance is evaluated at compile time</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Vec2</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Vec2</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">h</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="c1"># Both returns return the exact same value</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="n">debug_log</span><span class="p">(</span><span class="mi">123</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">i</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="c1"># All return values are nums</span>
    <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="mi">2</span>
</code></pre></div>
<p>The following are not allowed:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">j</span><span class="p">():</span>
    <span class="c1"># Either return is reachable and return different values</span>
    <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">k</span><span class="p">():</span>
    <span class="c1"># Both the return and an implicit &#39;return None&#39; are reachable</span>
    <span class="k">if</span> <span class="n">random</span><span class="p">()</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Vec2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<p>Outside of functions returning <code class="highlight"><span class="kc">None</span></code> or a num, most functions should have a single <code class="highlight"><span class="k">return</span></code> statement at the end.</p>
<h3 id="classes">Classes<a class="headerlink" href="#classes" title="Permanent link">&para;</a></h3>
<p>Classes are supported at the module level. User defined classes should subclass <a class="autorefs autorefs-internal" href="../../reference/sonolus.script.record/#sonolus.script.record.Record"><code class="highlight"><span class="n">Record</span></code></a> or have a supported
Sonolus.py decorator such as <code class="highlight"><span class="nd">@level_memory</span></code>.</p>
<p>Methods may have the <code class="highlight"><span class="nd">@staticmethod</span></code>, <code class="highlight"><span class="nd">@classmethod</span></code>, or <code class="highlight"><span class="nd">@property</span></code> decorators.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyRecord</span><span class="p">(</span><span class="n">Record</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">def</span> <span class="nf">regular_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">static_method</span><span class="p">():</span>
        <span class="o">...</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">class_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="o">...</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</code></pre></div>
<h3 id="imports">Imports<a class="headerlink" href="#imports" title="Permanent link">&para;</a></h3>
<p>Imports are supported at the module level, but not within functions.</p>
<h3 id="assert">assert<a class="headerlink" href="#assert" title="Permanent link">&para;</a></h3>
<p>Assertions are supported. Assertion failures cannot be handled and will terminate the current
callback when running in the Sonolus app. In debug mode, the game will also pause to indicate the error.</p>
<div class="highlight"><pre><span></span><code><span class="k">assert</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;a must be positive&#39;</span>
</code></pre></div>
<h3 id="pass">pass<a class="headerlink" href="#pass" title="Permanent link">&para;</a></h3>
<p>The <code class="highlight"><span class="k">pass</span></code> statement is supported.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../types/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Types">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Types
              </div>
            </div>
          </a>
        
        
          
          <a href="../builtins/" class="md-footer__link md-footer__link--next" aria-label="Next: Builtins">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Builtins
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tabs", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.footer", "toc.follow", "navigation.top"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>